{
    "networks" : {
        "paper" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(2):S",
            "type"       : "bitwise",
            "inputs"     : 1
        },
        "paper_se" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(1)",
            "type"       : "single_ended",
            "inputs"     : 1
        },
        "twocol" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(2):S",
            "type"       : "bitwise",
            "inputs"     : 2
        },
        "twocol_se" : {
            "definition" : "C(5,5,1):R:P(5,5):C(5,3,1):R:P(2,2):F(100):R:F(100):R:F(100):R:F(1)",
            "type"       : "single_ended",
            "inputs"     : 2
        },
        "resnet101pt" : {
            "definition" : "predef::resnet101",
            "type"       : "bitwise",
            "inputs"     : 1,
            "weights"    : "DEFAULT"
        },
        "resnet101" : {
            "definition" : "predef::resnet101",
            "type"       : "bitwise",
            "preprocess" : "x.reshape((x.shape[0], 1, 1, x.shape[1])).repeat(1, 3, 1, 1)",
            "inputs"     : 1
        }
    },
    "datasets" : {
        "stitched_1px_x1" : {
            "path"        : "stitched_1px_x1",
            "format"      : "raw_s\\d+_(\\d+).txt",
            "type"        : "sampled",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "columns"     : 2,
            "trace_scale" : 1
        },
        "stitched_1px_x2" : {
            "path"        : "stitched_1px_x2",
            "format"      : "raw_s\\d+_(\\d+).txt",
            "type"        : "sampled",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "columns"     : 2,
            "trace_scale" : 1
        },
        "stitched_1px_p1" : {
            "path"        : "stitched_1px_p1",
            "format"      : "raw_s\\d+_(\\d+).txt",
            "type"        : "sampled",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "columns"     : 2,
            "trace_scale" : 1
        },
        "stitched_1px_p2" : {
            "path"        : "stitched_1px_p2",
            "format"      : "raw_s\\d+_(\\d+).txt",
            "type"        : "sampled",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "columns"     : 2,
            "trace_scale" : 1
        },
        "digital_1px_ff_x" : {
            "path" : "digital_1px_ff_x",
            "type" : "sampled",
            "format"  : "sky_raw_s\\d+_(\\d+).txt",
            "columns" : 1,
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "trace_scale"     : 1e3
        },
        "digital_1px_fs_x" : {
            "path" : "digital_1px_fs_x",
            "type" : "sampled",
            "format"  : "sky_raw_s\\d+_(\\d+).txt",
            "columns" : 1,
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "trace_scale"     : 1e3
        },
        "digital_1px_tt_r" : {
            "path" : "digital_1px_tt_r",
            "type" : "sampled",
            "format"  : "sky_raw_s\\d+_(\\d+).txt",
            "columns" : 1,
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "trace_scale"     : 1e3
        },
        "digital_1px_fs_r" : {
            "path" : "digital_1px_fs_r",
            "type" : "sampled",
            "format"  : "sky_raw_s\\d+_(\\d+).txt",
            "columns" : 1,
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "trace_scale"     : 1e3
        },
        "digital_1px_tt_3" : {
            "path" : "digital_1px_tt_3",
            "type" : "sampled",
            "format"  : "trace_(\\d+)",
            "columns" : 1,
            "label"   : "lambda gs: int(gs[0])",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "normalizer"      : "robust",
            "trace_scale"     : 500
        },
        "digital_1px_tt_3b" : {
            "path" : "digital_1px_tt_3",
            "type" : "sampled",
            "format"  : "trace_(\\d+)",
            "columns" : 1,
            "label"   : "lambda gs: int(gs[0])",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.3e-6,
            "sample_duration" : 260e-6,
            "normalizer"      : "robust",
            "trace_scale"     : 500
        },
        "digital_1px_fs_3" : {
            "path" : "digital_1px_fs_3",
            "type" : "sampled",
            "format"  : "trace_(\\d+)",
            "columns" : 1,
            "label"   : "lambda gs: int(gs[0])",
            "sample_mode"     : ["MIN", "MAX"],
            "sample_interval" : 0.1e-6,
            "sample_duration" : 260e-6,
            "trace_scale"     : 500
        }
    },
    "tests" : [
        {
            "desc"          : "Table II - Unprotected BW",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["digital_1px_ff_x:max"],
            "test_dataset"  : ["digital_1px_fs_x:max"],
            "learning_rate" : [0.0001],
            "learning_decay": 0.000005,
            "optimizer"     : "Amsgrad"
        },
        {
            "desc"          : "Table II - Unprotected SE",
            "skip"          : true,
            "networks"      : ["paper_se"],
            "datasets"      : ["digital_1px_ff_x:max"],
            "test_dataset"  : ["digital_1px_fs_x:max"],
            "learning_rate" : [0.005],
            "learning_decay": 0.000005,
            "max_epochs"    : 30000
        },
        {
            "desc"          : "Table IV - Masking Good BW",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["digital_1px_tt_3:max"],
            "test_dataset"  : ["digital_1px_tt_3:max", "digital_1px_fs_3:max"],
            "learning_rate" : [0.0003],
            "learning_decay": 0.000025,
            "optimizer"     : "Amsgrad",
            "max_epochs"    : 5000
        },
        {
            "desc"          : "Table IV - Masking Good BW",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["digital_1px_tt_3b:max"],
            "test_dataset"  : ["digital_1px_tt_3b:max"],
            "learning_rate" : [0.0003],
            "learning_decay": 0.000025,
            "optimizer"     : "Amsgrad",
            "max_epochs"    : 5000
        },
        {
            "desc"          : "Table IV - Masking Good SE",
            "skip"          : false,
            "networks"      : ["paper_se"],
            "datasets"      : ["digital_1px_tt_3b:max"],
            "test_dataset"  : ["digital_1px_tt_3b:max"],
            "learning_rate" : [0.01],
            "learning_decay": 0.00002,
            "optimizer"     : "Amsgrad",
            "max_epochs"    : 25000
        },
        {
            "desc"          : "Table V - Randomized BW",
            "skip"          : true,
            "networks"      : ["paper"],
            "datasets"      : ["digital_1px_tt_r:max"],
            "test_dataset"  : ["digital_1px_fs_r:max"],
            "learning_rate" : [0.0003],
            "learning_decay": 0.000025,
            "optimizer"     : "Amsgrad",
            "max_epochs"    : 3000
        },
        {
            "desc"          : "Table V - Randomized SE",
            "skip"          : true,
            "networks"      : ["paper_se"],
            "datasets"      : ["digital_1px_tt_r:max"],
            "test_dataset"  : ["digital_1px_fs_r:max"],
            "learning_rate" : [0.0025],
            "learning_decay": 0.000005,
            "optimizer"     : "Amsgrad",
            "max_epochs"    : 25000
        },
        {
            "desc"          : "Stitch Unprotected",
            "skip"          : true,
            "networks"      : ["twocol"],
            "datasets"      : ["stitched_1px_x1:max"],
            "test_dataset"  : ["stitched_1px_x2:max"],
            "learning_rate" : [0.0001],
            "learning_decay": 0.000005,
            "optimizer"     : "Amsgrad"
        },
        {
            "desc"          : "Stitch Unprotected SE",
            "skip"          : true,
            "networks"      : ["twocol_se"],
            "datasets"      : ["stitched_1px_x1:max"],
            "test_dataset"  : ["stitched_1px_x2:max"],
            "learning_rate" : [0.005],
            "learning_decay": 0.000005,
            "max_epochs"    : 30000
        }
    ],
    "defaults" : {
        "optimizer"     : "Adam",
        "loss"          : "CrossEntropyLoss",
        "loss_se"       : "MSELoss",
        "learning_rate" : 0.0005,
        "learning_decay": 0,
        "max_learn_rate": 0.05,
        "max_epochs"    : 5000,
        "max_accuracy"  : 0.99,
        "max_loss"      : 0.0,
        "batch_size"    : 256,
        "train_split"   : 1,
        "trace_scale"   : 1e4
    }
}
